var app=angular.module("starter",[]);app.controller("calendarCtrl",["$scope","defDate",function(t,e){}]).factory("defDate",function(){return function(){return arguments.length>1?new Date(arguments[0],arguments[1],arguments[2]):1==arguments.length?new Date(arguments[0]):new Date}}).directive("calandar",["defDate",function(t){return{restrict:"EA",templateUrl:"templates/calendar.html",scope:{},compile:function(){return function(e,n,r){function a(){for(var t=[],e=o(1)-1,n=i();e>0;)t.unshift({day:n--}),e--;return t}function l(){var t=M*m,e=[],n=o(1)-1+u(),r=t-n;if(r>0)for(var a=0;r>a;)e.push({day:++a});return e}function i(){return 0===d&&(D--,p=12),t(D,p,0).getDate()}function u(){return t(v,d+1,0).getDate()}function o(e){var n=t(v,d,e).getDay();return 0===n?7:n}function c(){e.thisMonth=g[d],p=d,y=d,s(),f()}function f(){var t=0,n=o(1)-1,r=u(),i=a(),c=i.length,f=0,s=1,h=0;if(c>0)for(;c>f;f++)e.list[t][f].day=i[f].day,e.list[t][f].cssClass="calender_highlight";for(;r>=s;s++)e.list[t][n++].day=s,n%7===0&&(n=0,++t);var g=l(),d=g.length;if(d>0)for(var y=o(r);d>h;h++)e.list[e.list.length-1][y+h].day=g[h].day,e.list[e.list.length-1][y+h].cssClass="calender_highlight"}function s(){for(var t=[],n=o(1)-1+u(),r=0,a=0;r<Math.ceil(n/7);r++)t.push([]);for(;a<t.length;a++)for(var l=0;7>l;l++)t[a].push({});M=t.length,e.list=t}var h=t(),g=["January","February","March","April","May","June","July","August","Septemper","October","November","December"],d=h.getMonth(),y=d,p=d,v=h.getFullYear(),D=v,m=7,M=null;e.year=v,e.lastMonth=function(){--d,0>d&&(d=11,e.year=--v),c()},e.nextMonth=function(){++d,d>11&&(d=0,e.year=++v),c()},c()}}}}]);